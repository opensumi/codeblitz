[
  {
    "path": "src/filesystem/index.tsx",
    "oldCode": "import React, { useState, useMemo } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport {\n  AppRenderer,\n  BrowserFSFileType as FileType,\n  IAppRendererProps,\n} from '@codeblitzjs/ide-core';\nimport '@codeblitzjs/ide-core/languages';\nimport Select from 'antd/lib/select';\nimport 'antd/lib/select/style';\n\nconst dirMap: Record<string, [string, FileType][]> = {\n  '/': [\n    ['lib', FileType.DIRECTORY],\n    ['Readme.md', FileType.FILE],\n    ['LICENSE', FileType.FILE],\n    ['package.json', FileType.FILE],\n  ],\n  '/lib': [\n    ['application.js', FileType.FILE],\n    ['context.js', FileType.FILE],\n    ['request.js', FileType.FILE],\n    ['response.js', FileType.FILE],\n  ],\n};\n\nlet zipData: Buffer;\n\nconst zipDataPromise = (async () => {\n  const res = await fetch(\n    'http://alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com/green-trail-test/dc85f34d-2467-436b-a0fe-092133ead0d6/demo.zip'\n  );\n  const buf = await res.arrayBuffer();\n  zipData = Buffer.from(new Uint8Array(buf));\n})();\n\nconst App = () => {\n  const [fsType, setFsType] = useState<string>('');\n\n  const filesystem = useMemo<\n    NonNullable<IAppRendererProps['runtimeConfig']['workspace']>['filesystem'] | undefined\n  >(() => {\n    switch (fsType) {\n      case 'IndexedDB':\n        return {\n          fs: 'IndexedDB',\n          options: {\n            storeName: 'my_db',\n          },\n        };\n      case 'InMemory':\n        return {\n          fs: 'InMemory',\n        };\n      case 'FileIndexSystem':\n        return {\n          fs: 'FileIndexSystem',\n          options: {\n            // 初始全量文件索引\n            requestFileIndex() {\n              return Promise.resolve({\n                'main.html': '<div id=\"root\"></div>',\n                'main.css': 'body {}',\n                'main.js': 'console.log(\"main\")',\n                'package.json': '{\\n  \"name\": \"Riddle\"\\n}',\n              });\n            },\n          },\n        };\n      case 'DynamicRequest':\n        return {\n          fs: 'DynamicRequest',\n          options: {\n            readDirectory(p: string) {\n              return dirMap[p];\n            },\n            async readFile(p) {\n              const res = await fetch(\n                `http://alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com/green-trail-test/a87fb80d-3028-4b19-93a9-2da6f871f369/koa${p}`\n              );\n              return Buffer.from(await res.arrayBuffer());\n            },\n          },\n        };\n      case 'ZipFS':\n        return {\n          fs: 'ZipFS',\n          options: {\n            zipData,\n          },\n        };\n      case 'FolderAdapter':\n        return {\n          fs: 'FolderAdapter',\n          options: {\n            folder: '/demo',\n            wrapped: {\n              fs: 'ZipFS',\n              options: {\n                zipData,\n              },\n            },\n          },\n        };\n      case 'OverlayFS':\n        return {\n          fs: 'OverlayFS',\n          options: {\n            writable: { fs: 'InMemory' },\n            readable: {\n              fs: 'DynamicRequest',\n              options: {\n                readDirectory(p: string) {\n                  return dirMap[p];\n                },\n                async readFile(p) {\n                  const res = await fetch(\n                    `http://alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com/green-trail-test/a87fb80d-3028-4b19-93a9-2da6f871f369/koa${p}`\n                  );\n                  return Buffer.from(await res.arrayBuffer());\n                },\n              },\n            },\n          },\n        };\n    }\n  }, [fsType]);\n\n  const workspace = filesystem\n    ? {\n        filesystem,\n        onDidChangeTextDocument(e) {\n          console.log('>>>onDidChangeTextDocument', e);\n        },\n        onDidSaveTextDocument(e) {\n          console.log('>>>onDidSaveTextDocument', e);\n        },\n        onDidCreateFiles(e) {\n          console.log('>>>onDidCreateFiles', e);\n        },\n        onDidChangeFiles(e) {\n          console.log('>>>onDidChangeFiles', e);\n        },\n        onDidDeleteFiles(e) {\n          console.log('>>>onDidDeleteFiles', e);\n        },\n      }\n    : undefined;\n\n  return (\n    <div style={{ height: '100%' }}>\n      <div style={{ height: 48, display: 'flex', alignItems: 'center' }}>\n        <Select value={fsType} onChange={(e) => setFsType(e as string)} style={{ width: 200 }}>\n          <Select.Option value=\"IndexedDB\">IndexedDB</Select.Option>\n          <Select.Option value=\"InMemory\">InMemory</Select.Option>\n          <Select.Option value=\"FileIndexSystem\">FileIndexSystem</Select.Option>\n          <Select.Option value=\"DynamicRequest\">DynamicRequest</Select.Option>\n          <Select.Option value=\"ZipFS\">ZipFS</Select.Option>\n          <Select.Option value=\"FolderAdapter\">FolderAdapter</Select.Option>\n          <Select.Option value=\"OverlayFS\">OverlayFS</Select.Option>\n        </Select>\n      </div>\n      <div style={{ height: 'calc(100% - 48px)' }}>\n        <AppRenderer\n          key={fsType}\n          appConfig={{\n            workspaceDir: 'filesystem',\n            defaultPreferences: {\n              'general.theme': 'opensumi-design-light',\n            },\n          }}\n          runtimeConfig={{\n            workspace,\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst root = createRoot(document.getElementById('main') as HTMLElement);\n\nzipDataPromise.then(() => {\n  root.render(<App />);\n});\n",
    "newCode": "import React, { useState, useMemo } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport {\n  AppRenderer,\n  BrowserFSFileType as FileType,\n  IAppRendererProps,\nimport '@codeblitzjs/ide-core/languages';\nimport Select from 'antd/lib/select';\nimport 'antd/lib/select/style';\n\nconst dirMap: Record<string, [string, FileType][]> = {\n  '/': [\n    ['lib', FileType.DIRECTORY],\n    ['Readme.md', FileType.FILE],\n    ['LICENSE', FileType.FILE],\n    ['package.json', FileType.FILE],\n  ],\n  '/lib': [\n    ['application.js', FileType.FILE],\n    ['context.js', FileType.FILE],\n    ['request.js', FileType.FILE],\n    ['response.js', FileType.FILE],\n  ],\n};\n\nlet zipData: Buffer;\n\nconst zipDataPromise = (async () => {\n  const res = await fetch(\n    'http://alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com/green-trail-test/dc85f34d-2467-436b-a0fe-092133ead0d6/demo.zip'\n  );\n  const buf = await res.arrayBuffer();\n  zipData = Buffer.from(new Uint8Array(buf));\n})();\n\nconst App = () => {\n  const [fsType, setFsType] = useState<string>('');\n\n  const filesystem = useMemo<\n    NonNullable<IAppRendererProps['runtimeConfig']['workspace']>['filesystem'] | undefined\n  >(() => {\n    switch (fsType) {\n      case 'IndexedDB':\n        return {\n          fs: 'IndexedDB',\n          options: {\n            storeName: 'my_db',\n          },\n        };\n      case 'InMemory':\n        return {\n          fs: 'InMemory',\n        };\n      case 'FileIndexSystem':\n        return {\n          fs: 'FileIndexSystem',\n          options: {\n            // 初始全量文件索引\n            requestFileIndex() {\n              return Promise.resolve({\n                'main.html': '<div id=\"root\"></div>',\n                'main.css': 'body {}',\n                'main.js': 'console.log(\"main\")',\n                'package.json': '{\\n  \"name\": \"Riddle\"\\n}',\n              });\n            },\n          },\n        };\n      case 'DynamicRequest':\n        return {\n          fs: 'DynamicRequest',\n          options: {\n            readDirectory(p: string) {\n              return dirMap[p];\n            },\n            async readFile(p) {\n              const res = await fetch(\n                `http://alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com/green-trail-test/a87fb80d-3028-4b19-93a9-2da6f871f369/koa${p}`\n              );\n              return Buffer.from(await res.arrayBuffer());\n            },\n        };\n      case 'ZipFS':\n        return {\n          options: {\n            zipData,\n          },\n        };\n      case 'FolderAdapter':\n        return {\n          fs: 'FolderAdapter',\n          options: {\n            folder: '/demo',\n            wrapped: {\n              fs: 'ZipFS',\n              options: {\n                zipData,\n              },\n            },\n          },\n        };\n      case 'OverlayFS':\n        return {\n          fs: 'OverlayFS',\n          options: {\n            writable: { fs: 'InMemory' },\n            readable: {\n              fs: 'DynamicRequest',\n              options: {\n                readDirectory(p: string) {\n                  return dirMap[p];\n                },\n                async readFile(p) {\n                  const res = await fetch(\n                    `http://alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com/green-trail-test/a87fb80d-3028-4b19-93a9-2da6f871f369/koa${p}`\n                  );\n                  return Buffer.from(await res.arrayBuffer());\n                },\n              },\n            },\n        };\n    }\n  const workspace = filesystem\n    ? {\n        filesystem,\n        onDidChangeTextDocument(e) {\n          console.log('>>>onDidChangeTextDocument', e);\n        },\n        onDidSaveTextDocument(e) {\n          console.log('>>>onDidSaveTextDocument', e);\n        },\n        onDidCreateFiles(e) {\n          console.log('>>>onDidCreateFiles', e);\n        },\n          console.log('>>>onDidChangeFiles', e);\n        },\n          console.log('>>>onDidDeleteFiles', e);\n        },\n      }\n    : undefined;\n\n  return (\n    <div style={{ height: '100%' }}>\n      <div style={{ height: 48, display: 'flex', alignItems: 'center' }}>\n        <Select value={fsType} onChange={(e) => setFsType(e as string)} style={{ width: 200 }}>\n          <Select.Option value=\"IndexedDB\">IndexedDB</Select.Option>\n          <Select.Option value=\"InMemory\">InMemory</Select.Option>\n          <Select.Option value=\"FileIndexSystem\">FileIndexSystem</Select.Option>\n          <Select.Option value=\"DynamicRequest\">DynamicRequest</Select.Option>\n          <Select.Option value=\"ZipFS\">ZipFS</Select.Option>\n          <Select.Option value=\"FolderAdapter\">FolderAdapter</Select.Option>\n          <Select.Option value=\"OverlayFS\">OverlayFS</Select.Option>\n        </Select>\n      </div>\n      <div style={{ height: 'calc(100% - 48px)' }}>\n        <AppRenderer\n          key={fsType}\n          appConfig={{\n            workspaceDir: 'filesystem',\n            defaultPreferences: {\n              'general.theme': 'opensumi-design-light',\n            },\n          }}\n          runtimeConfig={{\n            workspace,\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst root = createRoot(document.getElementById('main') as HTMLElement);\n\nzipDataPromise.then(() => {\n  root.render(<App />);\n});\n"
  },
  {
    "path": "src/diff-viewer/index.tsx",
    "oldCode": "import React, { useMemo, useRef } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport '@codeblitzjs/ide-core/languages';\nimport { IPartialEditEvent } from '@opensumi/ide-ai-native/lib/browser/widget/inline-stream-diff/live-preview.decoration';\n\nimport '../index.css';\nimport { DiffViewerRenderer } from '@codeblitzjs/ide-core/lib/api/renderDiffViewer';\nimport { IDiffViewerHandle } from '@codeblitzjs/ide-core/lib/core/diff-viewer';\nimport jsonData from './data.json';\n\nconst data = [\n  {\n    path: 'app/web/src/main/java/com/alipay/archcompass/web/controller/invalidanalysis/InValidAssetsController.java',\n    oldCode:\n      '@GetMapping(value = \"/queryInvalidRpcTree\")\\n    public ArchCompassResponse queryInvalidRpcTree(String reportId, String invalidFlag) {\\n        return ArchCompassServiceTemplate.execute(new ArchCompassServiceCallBack<InvalidResultInfo>() {\\n\\n            @Override\\n            public void beforeProcess() {\\n                ParamCheckHelper.notBlank(reportId, \"reportId\");\\n                ParamCheckHelper.notBlank(invalidFlag, \"invalidFlag\");\\n            }\\n\\n            @Override\\n            public InvalidResultInfo process() {\\n                return inValidAssetsAnalysisService.queryInvalidTree(reportId, invalidFlag, \"RPC\");\\n            }\\n\\n            @Override\\n            public void afterProcess() {\\n\\n            }\\n        }, \"queryInvalidRpcTree\");\\n    }',\n    newCode:\n      '@GetMapping(value = \"/queryInvalidRpcTree\")\\n    public ArchCompassResponse queryInvalidRpcTree(String reportId) {\\n        return ArchCompassServiceTemplate.execute(new ArchCompassServiceCallBack<InvalidResultInfo>() {\\n\\n            @Override\\n            public void beforeProcess() {\\n                ParamCheckHelper.notBlank(reportId, \"reportId\");\\n            }\\n\\n            @Override\\n            public InvalidResultInfo process() {\\n                return inValidAssetsAnalysisService.queryInvalidTree(reportId, \"RPC\");\\n            }\\n\\n            @Override\\n            public void afterProcess() {\\n\\n            }\\n        }, \"queryInvalidRpcTree\");\\n    }',\n  },\n  {\n    path: 'app/web/src/main/java/com/alipay/archcompass/web/controller/invalidanalysis/InValidAssetsController1.java',\n    oldCode:\n      '@GetMapping(value = \"/hahahhaha\")\\n    public ArchCompassResponse hahahhaha(String reportId, String invalidFlag) {\\n        return ArchCompassServiceTemplate.execute(new ArchCompassServiceCallBack<InvalidResultInfo>() {\\n\\n            @Override\\n            public void beforeProcess() {\\n                ParamCheckHelper.notBlank(reportId, \"reportId\");\\n                ParamCheckHelper.notBlank(invalidFlag, \"invalidFlag\");\\n            }\\n\\n            @Override\\n            public InvalidResultInfo process() {\\n                return inValidAssetsAnalysisService.queryInvalidTree(reportId, invalidFlag, \"RPC\");\\n            }\\n\\n            @Override\\n            public void afterProcess() {\\n\\n            }\\n        }, \"hahahhaha\");\\n    }',\n    newCode:\n      '@GetMapping(value = \"/hahahhaha\")\\n    public ArchCompassResponse hahahhaha(String reportId) {\\n        return ArchCompassServiceTemplate.execute(new ArchCompassServiceCallBack<InvalidResultInfo>() {\\n\\n            @Override\\n            public void beforeProcess() {\\n                ParamCheckHelper.notBlank(reportId, \"reportId\");\\n            }\\n\\n            @Override\\n            public InvalidResultInfo process() {\\n                return inValidAssetsAnalysisService.queryInvalidTree(reportId, \"RPC\");\\n            }\\n\\n            @Override\\n            public void afterProcess() {\\n\\n            }\\n        }, \"hahahhaha\");\\n    }',\n  },\n  {\n    path: 'src/index.ts',\n    oldCode: 'console.log(\"hello world\");\\nconsole.log(\"second line\");\\nconsole.log(\"third line\");',\n    newCode: 'console.log(\"hello world\");\\nconsole.log(\"second line changed\");\\nconsole.log(\"third line\");',\n  },\n] as any[];\n\ndata.push(...jsonData);\n\nconst App = () => {\n  const handleRef = useRef<IDiffViewerHandle | null>(null);\n  const [eventInfo, setEventInfo] = React.useState<IPartialEditEvent | null>(null);\n\n  const memo = useMemo(() => (\n    <DiffViewerRenderer\n      onRef={(handle) => {\n        handleRef.current = handle;\n        console.log('=====', handle);\n        handle.onPartialEditEvent((e) => {\n          console.log('onPartialEditEvent', e);\n          setEventInfo(e);\n        });\n        data.forEach(v => {\n          handleRef.current!.openDiffInTab(\n            v.path,\n            v.oldCode,\n            v.newCode,\n          );\n        });\n      }}\n    />\n  ), []);\n\n  const header = useMemo(() => (\n    <div\n      style={{\n        height: 'fit-content',\n        width: '20vw',\n        minWidth: '20vw',\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <button\n        onClick={() => {\n          if (!handleRef.current) return;\n          handleRef.current.openDiffInTab(\n            data[0].path,\n            data[0].oldCode,\n            data[0].newCode,\n          );\n        }}\n      >\n        Java 代码\n      </button>\n      <button\n        onClick={() => {\n          if (!handleRef.current) return;\n          handleRef.current.openDiffInTab(\n            data[1].path,\n            data[1].oldCode,\n            data[1].newCode,\n          );\n        }}\n      >\n        TypeScript\n      </button>\n      <button\n        onClick={() => {\n          if (!handleRef.current) return;\n          handleRef.current.acceptAllPartialEdit();\n        }}\n      >\n        accept all\n      </button>\n      <button\n        onClick={() => {\n          if (!handleRef.current) return;\n          handleRef.current.rejectAllPartialEdit();\n        }}\n      >\n        reject all\n      </button>\n      <button\n        onClick={() => {\n          data.forEach((item) => {\n            if (!handleRef.current) return;\n            handleRef.current.openDiffInTab(\n              item.path,\n              item.oldCode,\n              item.newCode,\n              {\n                overwriteOldCode: true,\n              },\n            );\n          });\n        }}\n      >\n        reset\n      </button>\n\n      {data.map((item, index) => {\n        return (\n          <button\n            key={index}\n            onClick={() => {\n              if (!handleRef.current) return;\n              handleRef.current.openTab(\n                item.path,\n              );\n            }}\n          >\n            {item.path.split('/').pop()}\n          </button>\n        );\n      })}\n      <p>\n        {eventInfo ? JSON.stringify(eventInfo, null, 2) : 'no event'}\n      </p>\n    </div>\n  ), [eventInfo]);\n\n  return (\n    <div\n      style={{\n        height: '100%',\n        width: '100%',\n        display: 'flex',\n      }}\n    >\n      {header}\n      {memo}\n    </div>\n  );\n};\n\nconst root = createRoot(document.getElementById('main') as HTMLElement);\nroot.render(<App />);\n",
    "newCode": "import React, { useMemo, useRef } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport '@codeblitzjs/ide-core/languages';\nimport { IPartialEditEvent } from '@opensumi/ide-ai-native/lib/browser/widget/inline-stream-diff/live-preview.decoration';\n\nimport '../index.css';\nimport { DiffViewerRenderer } from '@codeblitzjs/ide-core/lib/api/renderDiffViewer';\nimport { IDiffViewerHandle } from '@codeblitzjs/ide-core/lib/core/diff-viewer';\nimport jsonData from './data.json';\n\nconst data = [\n  {\n    path: 'app/web/src/main/java/com/alipay/archcompass/web/controller/invalidanalysis/InValidAssetsController.java',\n    oldCode:\n      '@GetMapping(value = \"/queryInvalidRpcTree\")\\n    public ArchCompassResponse queryInvalidRpcTree(String reportId, String invalidFlag) {\\n        return ArchCompassServiceTemplate.execute(new ArchCompassServiceCallBack<InvalidResultInfo>() {\\n\\n            @Override\\n            public void beforeProcess() {\\n                ParamCheckHelper.notBlank(reportId, \"reportId\");\\n                ParamCheckHelper.notBlank(invalidFlag, \"invalidFlag\");\\n            }\\n\\n            @Override\\n            public InvalidResultInfo process() {\\n                return inValidAssetsAnalysisService.queryInvalidTree(reportId, invalidFlag, \"RPC\");\\n            }\\n\\n            @Override\\n            public void afterProcess() {\\n\\n            }\\n        }, \"queryInvalidRpcTree\");\\n    }',\n    newCode:\n      '@GetMapping(value = \"/queryInvalidRpcTree\")\\n    public ArchCompassResponse queryInvalidRpcTree(String reportId) {\\n        return ArchCompassServiceTemplate.execute(new ArchCompassServiceCallBack<InvalidResultInfo>() {\\n\\n            @Override\\n            public void beforeProcess() {\\n                ParamCheckHelper.notBlank(reportId, \"reportId\");\\n            }\\n\\n            @Override\\n            public InvalidResultInfo process() {\\n                return inValidAssetsAnalysisService.queryInvalidTree(reportId, \"RPC\");\\n            }\\n\\n            @Override\\n            public void afterProcess() {\\n\\n            }\\n        }, \"queryInvalidRpcTree\");\\n    }',\n  },\n  {\n    path: 'app/web/src/main/java/com/alipay/archcompass/web/controller/invalidanalysis/InValidAssetsController1.java',\n    oldCode:\n      '@GetMapping(value = \"/hahahhaha\")\\n    public ArchCompassResponse hahahhaha(String reportId, String invalidFlag) {\\n        return ArchCompassServiceTemplate.execute(new ArchCompassServiceCallBack<InvalidResultInfo>() {\\n\\n            @Override\\n            public void beforeProcess() {\\n                ParamCheckHelper.notBlank(reportId, \"reportId\");\\n                ParamCheckHelper.notBlank(invalidFlag, \"invalidFlag\");\\n            }\\n\\n            @Override\\n            public InvalidResultInfo process() {\\n                return inValidAssetsAnalysisService.queryInvalidTree(reportId, invalidFlag, \"RPC\");\\n            }\\n\\n            @Override\\n            public void afterProcess() {\\n\\n            }\\n        }, \"hahahhaha\");\\n    }',\n    newCode:\n      '@GetMapping(value = \"/hahahhaha\")\\n    public ArchCompassResponse hahahhaha(String reportId) {\\n        return ArchCompassServiceTemplate.execute(new ArchCompassServiceCallBack<InvalidResultInfo>() {\\n\\n            @Override\\n            public void beforeProcess() {\\n                ParamCheckHelper.notBlank(reportId, \"reportId\");\\n            }\\n\\n            @Override\\n            public InvalidResultInfo process() {\\n                return inValidAssetsAnalysisService.queryInvalidTree(reportId, \"RPC\");\\n            }\\n\\n            @Override\\n            public void afterProcess() {\\n\\n            }\\n        }, \"hahahhaha\");\\n    }',\n  },\n  {\n    path: 'src/index.ts',\n    oldCode: 'console.log(\"hello world\");\\nconsole.log(\"second line\");\\nconsole.log(\"third line\");',\n    newCode: 'console.log(\"hello world\");\\nconsole.log(\"second line changed\");\\nconsole.log(\"third line\");',\n  },\n] as any[];\n\ndata.push(...jsonData);\n\nconst App = () => {\n  const handleRef = useRef<IDiffViewerHandle | null>(null);\n  const [eventInfo, setEventInfo] = React.useState<IPartialEditEvent | null>(null);\n\n  const memo = useMemo(() => (\n    <DiffViewerRenderer\n      onRef={(handle) => {\n        handleRef.current = handle;\n        console.log('=====', handle);\n        handle.onPartialEditEvent((e) => {\n          console.log('onPartialEditEvent', e);\n          setEventInfo(e);\n        });\n        data.forEach(v => {\n          handleRef.current!.openDiffInTab(\n            v.path,\n            v.oldCode,\n            v.newCode,\n          );\n        });\n      }}\n    />\n  ), []);\n\n  const header = useMemo(() => (\n    <div\n      style={{\n        height: 'fit-content',\n        width: '20vw',\n        minWidth: '20vw',\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <button\n        onClick={() => {\n          if (!handleRef.current) return;\n          handleRef.current.openDiffInTab(\n            data[0].path,\n            data[0].oldCode,\n            data[0].newCode,\n          );\n        }}\n      >\n        Java 代码\n      </button>\n      <button\n        onClick={() => {\n          if (!handleRef.current) return;\n          handleRef.current.openDiffInTab(\n            data[1].path,\n            data[1].oldCode,\n            data[1].newCode,\n          );\n        }}\n      >\n        TypeScript\n      </button>\n      <button\n        onClick={() => {\n          if (!handleRef.current) return;\n          handleRef.current.acceptAllPartialEdit();\n        }}\n      >\n        accept all\n      </button>\n      <button\n        onClick={() => {\n          if (!handleRef.current) return;\n          handleRef.current.rejectAllPartialEdit();\n        }}\n      >\n        reject all\n      </button>\n      <button\n        onClick={() => {\n          data.forEach((item) => {\n            if (!handleRef.current) return;\n            handleRef.current.openDiffInTab(\n              item.path,\n              item.oldCode,\n              item.newCode,\n              {\n                overwriteOldCode: true,\n              },\n            );\n          });\n        }}\n      >\n        reset\n      </button>\n\n      {data.map((item, index) => {\n        return (\n          <button\n            key={index}\n            onClick={() => {\n              if (!handleRef.current) return;\n              handleRef.current.openTab(\n                item.path,\n              );\n            }}\n          >\n            {item.path.split('/').pop()}\n          </button>\n        );\n      })}\n      <p>\n        {eventInfo ? JSON.stringify(eventInfo, null, 2) : 'no event'}\n      </p>\n    </div>\n  ), [eventInfo]);\n\n  return (\n    <div\n      style={{\n        height: '100%',\n        width: '100%',\n        display: 'flex',\n      }}\n    >\n      {header}\n      {memo}\n    </div>\n  );\n};\n\nconst root = createRoot(document.getElementById('main') as HTMLElement);\nroot.render(<App />);\n"
  }
]